# Pattern State

## Probl√®me

* un objet a un comportement d√©pendant de son √©tat qui peut changer au cours du temps ;
* une op√©ration contient de nombreuses conditions qui d√©pendent de l'√©tat de l'objet.

## Description

* Le patron de conception "state' est utilis√© pour modifier le comportement d'un objet lorsque son √©tat
interne change. Tout se passera comme si l'objet changeait de classe.
* Le patron √©tat propose deux classes principales :
  * la classe √âtat, qui d√©finit l'abstraction des comportements du patron
  * la classe Contexte, qui s'occupe de l'interfa√ßage du patron avec le reste de son contexte (l'application).
* La classe √âtat permet via ses sp√©cialisations de cr√©er et g√©rer dynamiquement les comportements dont l'application aura besoin. La classe Contexte qui permet √©ventuellement √† l'application de choisir le
comportement √† mettre en √∑uvre et surtout d'orchestrer l'ex√©cution des comportements. Il est √† noter que la classe Contexte n'a pas l'exclusivit√© du choix de comportements. Il est en eet possible d'automatiser le changement d'√©tat √† la n de l'ex√©cution de l'√©tat actif. La classe Contexte garde un lien vers une classe
abstraite √âtat. Chaque comportement est une sp√©cialisation de cet √âtat. Lorsque l'instance de la classe √âtat change, le comportement de l'objet change. Ce patron permet donc √† la classe Contexte de changer de comportement dynamiquement sans changer ni d'instance ni d'interface.

![Pattern State](./img/designPattern_state.png)

## Exemple

```java

public interface State {
   public void doAction(Context context);
}

public class ConcreteStateA implements State {
   public void doAction(Context context) {
      context.setState(this);	
   }
}

public class ConcreteStateB implements State {
   public void doAction(Context context) {
      context.setState(this);	
   }
}

////////////////////////////////////////////////////////

public class Context {
   private State state;

   public Context(){
      state = null;
   }

   public void setState(State state){
      this.state = state;		
   }

   public State getState(){
      return state;
   }
}

////////////////////////////////////////////////////////

public class App {
   public static void main(String[] args) {
      Context context = new Context();

      StartState startState = new ConcreteStateA();
      startState.doAction(context);

      StopState stopState = new ConcreteStateB();
      stopState.doAction(context);
   }
}


```

## Exercice


[Exercice 23](../Exercices/3.DesignPattern/state/README.md)
